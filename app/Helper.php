<?php

use Illuminate\Support\Facades\Storage;

function uploadFile($file, $path)
{
    Storage::disk('public')->put($path, file_get_contents($file));
}

function getFile($path, $dummy = 'img/logo.png')
{
    return Storage::disk('public')->exists($path) ? Storage::disk('public')->url($path) : asset($dummy);
}

function deleteFile($path)
{
    Storage::disk('public')->delete($path);
}

if (! function_exists('convertAsTitle')) {
    function convertAsTitle($string)
    {
        // Convert to Title Case
        $title = ucwords($string);

        // Very basic pluralization (naive approach)
        if (str_ends_with($title, 'y')) {
            // e.g., "Category" -> "Categories"
            $plural = substr($title, 0, -1) . 'ies';
        } elseif (str_ends_with($title, 's')) {
            // e.g., "Class" -> "Classes"
            $plural = $title . 'es';
        } else {
            // e.g., "Book" -> "Books"
            $plural = $title . 's';
        }

        return $plural;
    }
}

if (! function_exists('truncateHtml')) {
    function truncateHtml($text, $limit = 255, $end = '...')
    {
        $doc = new DOMDocument();
        @$doc->loadHTML('<?xml encoding="utf-8" ?>' . $text);
        $total = 0;

        $traverse = function ($node) use (&$traverse, &$total, $limit, $end) {
            if ($node->nodeType === XML_TEXT_NODE) {
                $len = mb_strlen($node->nodeValue);
                if ($total + $len > $limit) {
                    $node->nodeValue = mb_substr($node->nodeValue, 0, $limit - $total) . $end;
                    while ($node->nextSibling) {
                        $node->parentNode->removeChild($node->nextSibling);
                    }
                    return false;
                }
                $total += $len;
            } else {
                foreach (iterator_to_array($node->childNodes) as $child) {
                    if ($traverse($child) === false) {
                        while ($child->nextSibling) {
                            $child->parentNode->removeChild($child->nextSibling);
                        }
                        return false;
                    }
                }
            }
            return true;
        };

        $traverse($doc->documentElement);
        return preg_replace('~<(?:!DOCTYPE|/?(?:html|body))[^>]*>\s*~i', '', $doc->saveHTML());
    }
}

if (! function_exists('exploreTopics')) {
    function exploreTopics()
    {
        return [
            'islam'   => 'ഇസ്ലാം',
            'purify'  => 'ശുദ്ധി',
            'namaz'   => 'നിസ്കാരം',
            'zakat'   => 'സകാത്',
            'fasting' => 'നോമ്പ്',
            'hajj'    => 'ഹജ്ജ്',
            'death'   => 'മരണം',
            'meelad'  => 'നബിദിനം',
            // 'വിവാഹം',
            // 'അഖീഖത്',
            // 'ഈദ് (പെരുന്നാൾ)',
            // 'അറിവ് (വിദ്യാഭ്യാസം)',
            // ' ',
            // 'ജീവിത ശൈലി',
            // 'സമ്പാദ്യം',
        ];
    }
}

if (! function_exists('getTopicChapters')) {
    function getTopicChapters($key = '')
    {
        $data = [
            "islam"   => [
                "slug"    => "islam",
                "title"   => "ഇസ്ലാം",
                "desc"    => "പ്രപഞ്ച സ്രഷ്ടാവായ ഏകദൈവത്തിന് സമ്പൂർണ്ണമായി കീഴടങ്ങി ജീവിക്കുക എന്നതാണ് ഇസ്‌ലാം എന്നതുകൊണ്ട് ഉദ്ദേശിക്കുന്നത്.",
                "modules" => [
                    [
                        "title"   => "മുസ്ലിം",
                        "desc"    => "ദൈവത്തിന്റെ ഇഷ്ടത്തിന് അനുസരിച്ച് സമാധാനപരമായി ജീവിക്കാൻ തിരഞ്ഞെടുക്കുന്ന ആദർശ സമൂഹമാണ് മുസ്‌ലിം",
                        "lessons" => [
                            "മുസ്ലിം ആവാനുള്ള അടിസ്ഥാനം: ശഹാദത്ത്",
                            "ഏകദൈവ വിശ്വാസം",
                            "ശുദ്ധിയാകാനുള്ള കുളി",
                            "നമസ്കാരം (സ്വലാത്ത്)",
                        ],
                    ],
                    [
                        "title"   => "ഇസ്‌ലാമിന്റെ അഞ്ചു തൂണുകൾ",
                        "desc"    => "ഇസ്‌ലാമിന്റെ അഞ്ചു തൂണുകൾ, അല്ലാഹുവിനോടുള്ള സമർപ്പണത്തിന്റെയും സാമൂഹിക പ്രതിബദ്ധതയുടെയും പ്രതീകമാണ്.",
                        "lessons" => [],
                    ],
                    [
                        "title"   => "ഈമാൻ കാര്യങ്ങൾ",
                        "desc"    => "ഒരു മുസ്‌ലിം നിർബന്ധമായും വിശ്വസിക്കേണ്ട ആറ് അടിസ്ഥാനപരമായ വിശ്വാസകാര്യങ്ങളാണ്",
                        "lessons" => [],
                    ],
                ],
            ],
            "purify"  => [
                "slug"    => "purify",
                "title"   => "ശുദ്ധി",
                "desc"    => "ശുചിത്വം വിശ്വാസത്തിന്റെ പകുതിയാണ് <em>- മുസ്ലിം:534</em>",
                "modules" => [
                    [
                        "title"   => "വുദു",
                        "desc"    => "ശുചിത്വം വിശ്വാസത്തിന്റെ പകുതിയാണ് <em>- മുസ്ലിം:534</em>",
                        "lessons" => [
                            "വുളൂഅ് നിർബന്ധമാകുന്ന കാര്യങ്ങൾ",
                            "വുളൂഇന്റെ നിബന്ധനകൾ (ശർത്ത്)",
                            "വുളൂഇന്റെ ഫർദുകൾ (നിർബന്ധ ഘടകങ്ങൾ)",
                            "വുളൂഇന്റെ സുന്നത്ത് (ഐച്ഛിക) കാര്യങ്ങൾ",
                            "വുളൂഇന്റെ രൂപം",
                            "വുളൂഅ് മുറിയുന്ന കാര്യങ്ങള്‍",
                            "വുദു ഉത്തമമായ കാര്യങ്ങൾ",
                        ],
                    ],
                    [
                        "title"   => "കുളി",
                        "desc"    => "ശുചിത്വം വിശ്വാസത്തിന്റെ പകുതിയാണ് <em>- മുസ്ലിം:534</em>",
                        "lessons" => [
                            "കുളി നിർബന്ധമാക്കുന്ന കാര്യങ്ങൾ",
                            "കുളിയുടെ രൂപം (ഗുസ്ൽ)",
                        ],
                    ],
                    [
                        "title"   => "തയ്യമ്മും",
                        "desc"    => "വെള്ളം ലഭ്യമല്ലാത്തതോ ഉപയോഗിക്കാൻ തടസ്സമുള്ളതോ ആയ അവസരങ്ങളിൽ വുളൂഇനും കുളിക്കും പകരമായി ശുദ്ധമായ മണ്ണ് ഉപയോഗിച്ച് മുഖവും കൈകളും തടവുന്ന ശുദ്ധീകരണ രീതിയാണ് തയമ്മും.",
                        "lessons" => [
                            "എന്താണ് തയമ്മും?",
                            "തയമ്മും അനുവദനീയമാകുന്ന സാഹചര്യങ്ങൾ",
                            "തയമ്മുമിന്റെ രൂപം",
                            "തയമ്മും മുറിയുന്ന കാര്യങ്ങൾ",
                        ],
                    ],
                    [
                        "title"   => "നജസുകൾ",
                        "desc"    => "ശുചിത്വം വിശ്വാസത്തിന്റെ പകുതിയാണ് <em>- മുസ്ലിം:534</em>",
                        "lessons" => [
                            "നജസ് (അശുദ്ധി)",
                            "നജസ് ശുദ്ധീകരിക്കുന്ന രീതി",
                        ],
                    ],
                    [
                        "title"   => "ആർത്തവം & പ്രസവരക്തം",
                        "desc"    => "ശുചിത്വം വിശ്വാസത്തിന്റെ പകുതിയാണ് <em>- മുസ്ലിം:534</em>",
                        "lessons" => [
                            "ഹയ്ദ് & നിഫാസ്: അടിസ്ഥാന വിവരങ്ങൾ",
                            "ആർത്തവ സംബന്ധമായ വിധി വിലക്കുകൾ",
                        ],
                    ],
                    [
                        "title"   => "സുന്നത്തായ ശുദ്ധീകരണങ്ങൾ",
                        "desc"    => "ശുചിത്വം വിശ്വാസത്തിന്റെ പകുതിയാണ് <em>- മുസ്ലിം:534</em>",
                        "lessons" => [
                            "നബിമാരുടെ ചര്യകൾ (ശുദ്ധപ്രകൃതി ചര്യകള്‍)",
                            "വിസർജ്ജന മര്യാദകൾ",
                            "നഖം വെട്ടൽ",
                        ],
                    ],
                ],
            ],
            "namaz"   => [
                "slug"    => "namaz",
                "title"   => "സ്വലാത് (നമസ്കാരം)",
                "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                "modules" => [
                    [
                        "title"   => "5 നിർബന്ധിത നമസ്കാരങ്ങൾ",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "സുബഹ് (ഫജ്ർ)",
                            "ളുഹർ",
                            "അസർ",
                            "മഗ്‌രിബ്",
                            "ഇശാ",
                            "ഖുർആൻ & ഹദീസ് വിശകലനങ്ങൾ",
                        ],
                    ],
                    [
                        "title"   => "അദാൻ & ഇഖാമത്ത്",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "അദാൻ (ബാങ്ക്)",
                            "ഇഖാമത്ത്",
                        ],
                    ],
                    [
                        "title"   => "നമസ്‌കാരത്തിന്റെ ശര്‍ത്തുകള്‍",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "ആരാധനകൾ സ്വീകരിക്കപ്പെടാനുള്ള രണ്ട് നിബന്ധനകൾ",
                            "നമസ്കാരം സ്വീകാര്യമാകാനുള്ള നിബന്ധനകൾ",
                            "നമസ്കാരം ശരിയാവാനുള്ള നിബന്ധനകൾ",
                        ],
                    ],
                    [
                        "title"   => "നമസ്കാരത്തിന്റെ ഫർളുകൾ",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "നിയ്യത്ത് (ഉദ്ദേശ്യം)",
                            "തക്ബീറത്തുൽ ഇഹ്റാം",
                            "നിൽക്കാൻ കഴിവുള്ളവൻ നിൽക്കൽ",
                            "ഫാത്തിഹ",
                            "റുകൂഅ്",
                            "ഇഅ്തിദാൽ",
                            "സുജൂദ്",
                            "സുജൂദുകൾക്കിടയിൽ ഇരിക്കൽ (ഇഫ്തിറാഷ്)",
                            "ഥുമഅ്‌നീനത്ത് (അടങ്ങിപ്പാർക്കൽ)",
                            "തശഹ്ഹുദ് (അത്തഹിയ്യാത്ത്)",
                            "നബി (സ) യുടെ മേൽ സ്വലാത്ത്",
                            "അവസാന ഇരുത്തം (തവർറുക്ക്)",
                            "സലാം ചൊല്ലൽ",
                            "തർത്തീബ് (ക്രമപാലനം)",
                        ],
                    ],
                    [
                        "title"   => "ജമാഅത് (സംഘം) ചേർന്ന് നമസ്കരിക്കൽ",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "ജമാഅത്തിന്റെ ശ്രേഷ്ഠത",
                            "ജമാഅത്തിൽ ഇമാമിന്റെ ബാധ്യത",
                            "ജമാഅത്തിൽ പങ്കെടുക്കുന്നവർ ശ്രദ്ധിക്കേണ്ടത്",
                            "സ്ത്രീകൾ ജമാഅത്തിൽ പങ്കെടുക്കൽ",
                        ],
                    ],
                    [
                        "title"   => "നമസ്കാരത്തിന് ശേഷമുള്ള ദുആ",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [],
                    ],
                    [
                        "title"   => "ജുമുഅ നമസ്കാരം",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "ജുമുഅയുടെ നിയമവും നിർബന്ധ്യതയും",
                            "ജുമുഅയുടെ അദാൻ",
                            "ജുമുഅയുമായി ബന്ധപ്പെട്ട സുന്നത്തുകൾ",
                            "ഖുതുബയുടെ നിബന്ധനകളും അനുബന്ധ നിയമങ്ങളും",
                            "വെള്ളിയാഴ്ചയുടെ മഹത്വം",
                        ],
                    ],
                    [
                        "title"   => "സുന്നത് നമസ്കാരങ്ങൾ ",
                        "desc"    => "തീർച്ചയായും നമസ്കാരം വിശ്വാസികൾക്ക് സമയബന്ധിതമായ ബാധ്യതയായി വിധിക്കപ്പെട്ടിരിക്കുന്നു.",
                        "lessons" => [
                            "ഈദ് നമസ്‌കാരം",
                            "തറാവീഹ് നമസ്കാരം",
                            "വിത്ർ നമസ്കാരം",
                            "തഹജ്ജുദ് നമസ്കാരം",
                            "ളുഹാ നമസ്കാരം",
                            "തഹിയ്യത്തുൽ മസ്ജിദ്",
                            "ഇസ്തിഖാറ നമസ്‌കാരം (മാർഗ്ഗദർശനം തേടൽ)",
                            "തൗബ നമസ്‌കാരം",
                        ],
                    ],
                ],
            ],
            "zakat"   => [
                "slug"    => "zakat",
                "title"   => "സകാത്ത്",
                "desc"    => "സമ്പന്നരായ മുസ്‌ലിംകൾ അവരുടെ സമ്പാദ്യത്തിൽ നിന്ന് ഒരു നിശ്ചിത ഭാഗം പാവപ്പെട്ടവർക്ക് നിർബന്ധമായും നൽകുന്ന ധനപരമായ ആരാധനയാണ്.",
                "modules" => [
                    [
                        "title"   => "സകാത്ത്",
                        "desc"    => "സമ്പന്നരായ മുസ്‌ലിംകൾ അവരുടെ സമ്പാദ്യത്തിൽ നിന്ന് ഒരു നിശ്ചിത ഭാഗം പാവപ്പെട്ടവർക്ക് നിർബന്ധമായും നൽകുന്ന ധനപരമായ ആരാധനയാണ്.",
                        "lessons" => [
                            "സകാത്ത്: അടിസ്ഥാന വിഷയങ്ങൾ",
                            "സകാത്ത് നിയമങ്ങളും കണക്കുകൂട്ടലും",
                        ],
                    ],
                    [
                        "title"   => "സദഖ (ദാനധർമ്മം)",
                        "desc"    => "അല്ലാഹുവിന്റെ പ്രീതി മാത്രം ഉദ്ദേശിച്ചുകൊണ്ട് നൽകുന്ന എല്ലാ ദാനധർമ്മങ്ങളെയും സദഖ എന്ന് പറയുന്നു.",
                        "lessons" => [],
                    ],
                    [
                        "title"   => "പലിശ (ഹറാം) ധനവും സദഖ/സകാത്തും",
                        "desc"    => "ഹറാമായ മാർഗ്ഗങ്ങളിലൂടെ (പ്രത്യേകിച്ച് പലിശ) സമ്പാദിച്ച ധനം സകാത്ത്, സദഖ തുടങ്ങിയ ദാനധർമ്മങ്ങൾക്കായി ഉപയോഗിക്കുന്നതിൻ്റെ ഇസ്‌ലാമിക വിധി.",
                        "lessons" => [],
                    ],
                    [
                        "title"   => "കടമുള്ളവരുടെ ദാനധർമ്മം (സ്വദഖ)",
                        "desc"    => "മനുഷ്യാവകാശങ്ങളായ (ഹഖ്ഖുൽ ഇബാദ്) കടങ്ങൾ വീട്ടുന്നതും ഐച്ഛികമായ ദാനധർമ്മവും (സ്വദഖ)",
                        "lessons" => [],
                    ],
                    [
                        "title"   => "നിർബന്ധിത ദാനധർമ്മം",
                        "desc"    => "ഒരാളെ നിർബന്ധിച്ച് ദാനധർമ്മങ്ങൾ (സദഖ) ചെയ്യിപ്പിക്കുന്നതിനെക്കുറിച്ചുള്ള ഇസ്‌ലാമിക നിയമവും അനുബന്ധ വിഷയങ്ങളും.",
                        "lessons" => [],
                    ],
                ],
            ],
            "fasting" => [
                "slug"    => "fasting",
                "title"   => "നോമ്പ്",
                "desc"    => "റമളാൻ മാസം കാണുകയോ, ശഅ്ബാൻ 30 പൂർത്തിയാക്കുകയോ ചെയ്താൽ നോമ്പ് നിർബന്ധമാകും.",
                "modules" => [
                    [
                        "title"   => "നോമ്പ്",
                        "desc"    => "റമളാൻ മാസം കാണുകയോ, ശഅ്ബാൻ 30 പൂർത്തിയാക്കുകയോ ചെയ്താൽ നോമ്പ് നിർബന്ധമാകും.",
                        "lessons" => [
                            "റമളാൻ നോമ്പിന്റെ നിർബന്ധം",
                            "നോമ്പിന്റെ അടിസ്ഥാന ഘടകങ്ങൾ",
                            "നോമ്പ് മുറിയുന്ന പ്രധാന കാര്യങ്ങൾ",
                            "നോമ്പിൽ നിന്ന് ഇളവുള്ളവർ",
                        ],
                    ],
                    [
                        "title"   => "സുന്നത്ത് നോമ്പുകൾ",
                        "desc"    => "ഫർള് (നിർബന്ധം) അല്ലാത്തതും പ്രവാചകൻ ﷺ പ്രോത്സാഹിപ്പിക്കുകയും പതിവാക്കുകയും ചെയ്തതുമായ നോമ്പുകളും അതിൻ്റെ പ്രത്യേകതകളും.",
                        "lessons" => [],
                    ],
                ],
            ],
            "hajj"    => [
                "slug"    => "hajj",
                "title"   => "ഹജ്ജ്",
                "desc"    => "കഴിവുള്ള മുസ്‌ലിംകൾ ജീവിതത്തിൽ ഒരിക്കലെങ്കിലും മക്കയിലേക്ക് പോയി അനുഷ്ഠിക്കേണ്ട നിർബന്ധിത തീർത്ഥാടനമാണ്.",
                "modules" => [
                    [
                        "title"   => "ഹജ്ജ്",
                        "desc"    => "കഴിവുള്ള മുസ്‌ലിംകൾ ജീവിതത്തിൽ ഒരിക്കലെങ്കിലും മക്കയിലേക്ക് പോയി അനുഷ്ഠിക്കേണ്ട നിർബന്ധിത തീർത്ഥാടനമാണ്.",
                        "lessons" => [
                            "ഹജ്ജിന്റെ നിർബന്ധ ഘടകങ്ങൾ",
                            "ഇഹ്‌റാം: പ്രവേശന ശുദ്ധിയും തൽബിയത്തും",
                            "സഅ്‌യ് (സഫാ-മർവാ ഓട്ടം)",
                            "മറ്റുള്ള ആചാരങ്ങൾ",
                        ],
                    ],
                    [
                        "title"   => "ഉംറ",
                        "desc"    => "വർഷത്തിൽ എപ്പോൾ വേണമെങ്കിലും മക്കയിൽ പോയി അനുഷ്ഠിക്കാവുന്ന ചെറിയ തീർത്ഥാടനമാണ്.",
                        "lessons" => [
                            "ഉംറ: ഇഹ്റാമിൽ പ്രവേശിക്കൽ",
                            "കഅ്ബയിലെ ത്വവാഫ്",
                            "സഅ്‌യ്: സ്വഫാ-മർവ്വക്കിടയിൽ ഓടൽ",
                            "തഹല്ലുൽ: ഇഹ്റാമിൽ നിന്ന് ഒഴിവാകൽ",
                        ],
                    ],
                    [
                        "title"   => "ഖബർ സിയാറത്ത് (സന്ദർശനം)",
                        "desc"    => "ഖബർ സന്ദർശിക്കുന്നത് പ്രവാചകൻ ﷺ ആദ്യം വിലക്കുകയും പിന്നീട് അനുവദിക്കുകയും ചെയ്തു.",
                        "lessons" => [
                            "ഖബർ സിയാറത്ത് (സന്ദർശനം): വിധി",
                            "ദർഗ, ഖബർ കെട്ടിപ്പൊക്കൽ: വിധി",
                            "അല്ലാഹുവല്ലാത്തവരോടുള്ള സഹായ തേട്ടം (ശിർക്ക്)",
                        ],
                    ],
                    [
                        "title"   => "പുണ്യം തേടിയുള്ള യാത്രകൾ",
                        "desc"    => "പ്രത്യേക പ്രതിഫലം മാത്രം ലക്ഷ്യമാക്കി യാത്ര ചെയ്യേണ്ടത് താഴെ പറയുന്ന മൂന്ന് പള്ളികളിലേക്ക് മാത്രമാണ്:",
                        "lessons" => [],
                    ],
                ],
            ],
            "death"   => [
                "slug"    => "death",
                "title"   => "മരണം",
                "desc"    => "മരണം എല്ലാ സൃഷ്ടികൾക്കും നിശ്ചയിക്കപ്പെട്ടതും ഒഴിച്ചുകൂടാനാവാത്തതുമാണ്.",
                "modules" => [
                    [
                        "title"   => "മരണം",
                        "desc"    => "മരണം എല്ലാ സൃഷ്ടികൾക്കും നിശ്ചയിക്കപ്പെട്ടതും ഒഴിച്ചുകൂടാനാവാത്തതുമാണ്.",
                        "lessons" => [
                            "മരണം: വിശ്വാസവും തയ്യാറെടുപ്പും",
                            "മരണം ആസന്നമായ വ്യക്തിക്ക് ചെയ്യേണ്ട കാര്യങ്ങൾ",
                            "രക്തസാക്ഷികൾ",
                            "മറ്റുള്ളവ",
                            "പോസ്റ്റ്‌മോർട്ടം",
                        ],
                    ],
                    [
                        "title"   => "മരണ വീട്ടിലെ ആചാരങ്ങൾ",
                        "desc"    => "",
                        "lessons" => [
                            "കുടുംബത്തെ ആശ്വസിപ്പിക്കുക",
                            "മരണവീട്ടിലെ വിലാപം, ഖുർആൻ പാരായണം",
                            "മരണാനന്തര അനുബന്ധ ആചാരങ്ങൾ (3, 7, 40, ആണ്ട്)",
                        ],
                    ],
                    [
                        "title"   => "മയ്യിത്ത് കുളിപ്പിക്കൽ, കഫൻ ചെയ്യൽ",
                        "desc"    => "",
                        "lessons" => [
                            "മയ്യിത്ത് കുളിപ്പിക്കൽ",
                            "കഫൻ ചെയ്യൽ",
                        ],
                    ],
                    [
                        "title"   => "വിലാപ യാത്ര, മയ്യിത്ത് നമസ്കാരം",
                        "desc"    => "",
                        "lessons" => [
                            "വിലാപ യാത്ര",
                            "മയ്യിത്ത് നമസ്കാരം",
                            "മയ്യിത്ത് നമസ്കാര രൂപം",
                        ],
                    ],
                    [
                        "title"   => "മറമാടൽ, ഖബർ സന്ദർശനം",
                        "desc"    => "",
                        "lessons" => [
                            "ഖബർ",
                            "മറമാടൽ",
                            "ഖബർ സിയാറത്ത് (സന്ദർശനം)",
                        ],
                    ],
                    [
                        "title"   => "മയ്യിത്തിൻ്റെ കടം",
                        "desc"    => "",
                        "lessons" => [],
                    ],
                ],
            ],
            "meelad"  => [
                "slug"    => "meelad",
                "title"   => "നബിദിനം",
                "desc"    => "നബിദിനം ആഘോഷിക്കേണ്ടതിന്റെ അടിസ്ഥാനവും ശ്രേഷ്ഠതയും",
                "modules" => [
                    [
                        "title"   => "റബീഉൽ അവ്വൽ മാസവും നബിദിനവും",
                        "desc"    => "നബിദിനം ആഘോഷിക്കേണ്ടതിന്റെ അടിസ്ഥാനവും ശ്രേഷ്ഠതയും",
                        "lessons" => [
                            "റബീഉൽ അവ്വൽ മാസവും പ്രത്യേക ഇബാദത്തുകളും",
                            "റ. അവ്വൽ 12",
                            "പ്രവാചക സ്നേഹം: അതിരുകളും ആഘോഷവും",
                            "ബിദ്അത്തിനെക്കുറിച്ചുള്ള മുന്നറിയിപ്പ്",
                        ],
                    ],
                    [
                        "title"   => "നബിദിന ആഘോഷങ്ങളുടെ ചരിത്രം",
                        "desc"    => "കാലഘട്ടങ്ങളിലൂടെ നബിദിന (മൗലിദ്) ആഘോഷങ്ങളുടെ വികാസം",
                        "lessons" => [],
                    ],
                    [
                        "title"   => "മൗലിദ് കൃതികൾ - ചരിത്രം",
                        "desc"    => "പ്രധാനപ്പെട്ട മൗലിദ് കൃതികളും ആരംഭവും",
                        "lessons" => [],
                    ],
                ],
            ],
        ];

        return empty($key) ? $data : $data[$key];
    }
}

if (! function_exists('hadithBookName')) {
    function hadithBookName($slug)
    {
        $data = [
            'sahih-bukhari' => 'ബുഖാരി',
            'sahih-muslim'  => 'മുസ്ലിം',
            'al-tirmidhi'   => 'തിർമിധി',
            'abu-dawood'    => 'അബു ദാവൂദ്',
            'ibn-e-majah'   => 'ഇബ്‍ൻ മാജഹ്',
            "sunan-nasai"   => 'നസാഇ',
            "mishkat"       => "മിഷ്‌കാത്",
        ];

        return empty($slug) ? $data : $data[$slug];
    }

}

if (! function_exists('getChapterNotes')) {
    function getChapterNotes($topic, $module)
    {
        $file = database_path("topic-json/{$topic}/{$module}.json");
        $data = json_decode(file_get_contents($file), true);

        return $data;
    }
}
